{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import { useState } from 'react';\n\n/**\n * Defines the validation rules for a form data object.\n */\nexport type ValidationRules<T> = {\n  [K in keyof T]: (value: T[K]) => true | string\n}\n\n/**\n * A custom hook that provides form validation functionality.\n * @template T - The type of the form data object.\n * @param {T} initialState - The initial state of the form data object.\n * @param {ValidationRules<T>} validationRules - The validation rules for the form data object.\n * @returns {[T, Partial<T>]} - A tuple containing the proxied form data object and the validation errors object.\n * @example\n**/\n\nexport const useFormValidation = <T extends Record<string, any>>(\n  initialState: T,\n  validationRules: ValidationRules<T>\n): [T, Partial<T>] => {\n  const [errors, setErrors] = useState<Partial<T>>({})\n  const [state] = useState<T>(initialState)\n\n  const handler: ProxyHandler<T> = {\n    set(target, property, value) {\n      if (typeof property === 'string' && validationRules[property]) {\n        const validationError = validationRules[property](value as any)\n        setErrors((prev) => ({ ...prev, [property]: validationError }))\n      }\n      target[property as keyof T] = value as any\n      return true\n    }\n  }\n\n  const proxyState = new Proxy(state, handler)\n\n  return [proxyState, errors]\n}\n"],"names":["useFormValidation","initialState","validationRules","_useState","useState","errors","setErrors","_useState2","state","handler","set","target","property","value","validationError","prev","_extends2","_extends","proxyState","Proxy"],"mappings":";;;;;;;;;;;;;;;;;IAkBaA,iBAAiB,GAAG,SAApBA,iBAAiBA,CAC5BC,YAAe,EACfC,eAAmC;EAEnC,IAAAC,SAAA,GAA4BC,cAAQ,CAAa,EAAE,CAAC;IAA7CC,MAAM,GAAAF,SAAA;IAAEG,SAAS,GAAAH,SAAA;EACxB,IAAAI,UAAA,GAAgBH,cAAQ,CAAIH,YAAY,CAAC;IAAlCO,KAAK,GAAAD,UAAA;EAEZ,IAAME,OAAO,GAAoB;IAC/BC,GAAG,WAAAA,IAACC,MAAM,EAAEC,QAAQ,EAAEC,KAAK;MACzB,IAAI,OAAOD,QAAQ,KAAK,QAAQ,IAAIV,eAAe,CAACU,QAAQ,CAAC,EAAE;QAC7D,IAAME,eAAe,GAAGZ,eAAe,CAACU,QAAQ,CAAC,CAACC,KAAY,CAAC;QAC/DP,SAAS,CAAC,UAACS,IAAI;UAAA,IAAAC,SAAA;UAAA,OAAAC,QAAA,KAAWF,IAAI,GAAAC,SAAA,OAAAA,SAAA,CAAGJ,QAAQ,IAAGE,eAAe,EAAAE,SAAA;SAAG,CAAC;;MAEjEL,MAAM,CAACC,QAAmB,CAAC,GAAGC,KAAY;MAC1C,OAAO,IAAI;;GAEd;EAED,IAAMK,UAAU,GAAG,IAAIC,KAAK,CAACX,KAAK,EAAEC,OAAO,CAAC;EAE5C,OAAO,CAACS,UAAU,EAAEb,MAAM,CAAC;AAC7B;;;;"}